erDiagram
    %% ========================================
    %% 챌린지 도메인 (Challenge Domain)
    %% 테이블: 2개
    %% ========================================

    challenges {
        bigint id PK
        bigint leader_id FK "users.id"
        varchar name
        varchar description
        varchar category "HOBBY | STUDY | EXERCISE | SAVINGS | TRAVEL | FOOD | CULTURE | OTHER"
        decimal monthly_fee
        int max_members
        int current_members
        varchar status "RECRUITING | IN_PROGRESS | COMPLETED"
        date start_date
        date end_date
        int duration_months
        decimal penalty_rate
        varchar image_url
        timestamp created_at
        timestamp updated_at
        timestamp deleted_at
    }

    challenge_members {
        bigint id PK
        bigint challenge_id FK
        bigint user_id FK
        varchar role "LEADER | FOLLOWER"
        varchar status "ACTIVE | LEFT | KICKED | PAUSED"
        boolean auto_pay_enabled
        varchar leave_reason "VOLUNTARY | KICKED | CHALLENGE_CLOSED | NO_SHOW"
        timestamp joined_at
        timestamp left_at
        timestamp created_at
        timestamp updated_at
    }

    users {
        bigint id PK
        varchar name
    }

    %% 관계
    users ||--o{ challenges : "leads"
    challenges ||--o{ challenge_members : "has"
    users ||--o{ challenge_members : "joins"