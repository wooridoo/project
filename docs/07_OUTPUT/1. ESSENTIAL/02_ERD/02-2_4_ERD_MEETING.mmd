erDiagram
    %% ========================================
    %% 모임 도메인 (Meeting Domain)
    %% 테이블: 3개
    %% ========================================

    meetings {
        bigint id PK
        bigint challenge_id FK
        bigint created_by FK "users.id"
        varchar title
        varchar description
        timestamp scheduled_at
        varchar location
        varchar status "VOTING | CONFIRMED | COMPLETED | CANCELLED"
        int min_participants
        timestamp vote_deadline
        timestamp created_at
        timestamp updated_at
    }

    meeting_votes {
        bigint id PK
        bigint meeting_id FK
        varchar status "IN_PROGRESS | APPROVED | REJECTED | EXPIRED"
        int agree_count
        int disagree_count
        timestamp expires_at
        timestamp created_at
        timestamp updated_at
    }

    meeting_vote_records {
        bigint id PK
        bigint meeting_vote_id FK
        bigint user_id FK
        varchar choice "AGREE | DISAGREE"
        timestamp voted_at
        timestamp created_at
    }

    challenges {
        bigint id PK
        varchar name
    }

    users {
        bigint id PK
        varchar name
    }

    %% 관계
    challenges ||--o{ meetings : "has"
    users ||--o{ meetings : "creates"
    meetings ||--o{ meeting_votes : "has"
    meeting_votes ||--o{ meeting_vote_records : "has"
    users ||--o{ meeting_vote_records : "votes"