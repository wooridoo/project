================================================================================
WOORIDO 비즈니스 룰 체크리스트
================================================================================

버전            1.0.0
작성일          2026-01-16
기준 문서       POLICY_DEFINITION.md, API_SCHEMA_1.0.0.md, DB_Schema_1.0.0.md
총 체크항목     142개

================================================================================
목차
================================================================================

1. 개요
2. 회원 관리 (18개)
3. 크레딧/계좌 (15개)
4. 챌린지 관리 (22개)
5. 보증금 관리 (16개)
6. 투표 시스템 (20개)
7. 정기 모임 (14개)
8. 리더 관리 (12개)
9. SNS/피드 (10개)
10. 신고/제재 (8개)
11. 권한 체크 (7개)

================================================================================
1. 개요
================================================================================

1.1 목적
--------
서비스 운영에 필요한 모든 비즈니스 룰을 체크리스트로 정리하여
개발/QA/운영 시 누락 없이 검증

1.2 체크리스트 구성
-------------------
구분                  항목 수     관련 정책
─────────────────     ─────────   ──────────────────
회원 관리             18          P-001~P-005, P-030~P-032
크레딧/계좌           15          P-006~P-012, P-060
챌린지 관리           22          P-013~P-016, P-046~P-050, P-057
보증금 관리           16          P-017~P-025, P-052, P-056
투표 시스템           20          P-037~P-042
정기 모임             14          P-043~P-045, P-051, P-054
리더 관리             12          P-033~P-035, P-058
SNS/피드              10          PM-004~PM-006
신고/제재             8           P-030~P-031, P-055
권한 체크             7           PM-001~PM-021
─────────────────     ─────────   ──────────────────
합계                  142

1.3 체크리스트 ID 규칙
----------------------
형식: BR-{도메인}-{번호}

도메인 코드:
  USER      회원 관리
  ACCT      크레딧/계좌
  CHAL      챌린지 관리
  DPST      보증금 관리
  VOTE      투표 시스템
  MEET      정기 모임
  LEAD      리더 관리
  SNS       SNS/피드
  REPT      신고/제재
  PERM      권한 체크

1.4 상태 표기
-------------
[ ]     미확인
[P]     통과 (Pass)
[F]     실패 (Fail)
[N/A]   해당 없음


================================================================================
2. 회원 관리 (18개)
================================================================================

--------------------------------------------------------------------------------
2.1 회원가입 (P-001 ~ P-005)
--------------------------------------------------------------------------------

BR-USER-001: 개인정보 처리 방침 필수 동의
──────────────────────────────────────────────────────────────────────────────
정책            P-001
룰              agreedPrivacy = true 필수
검증 방법       agreedPrivacy = false로 가입 시도 → 400 에러
확인 항목       [ ] API 검증 로직 구현
                [ ] 프론트엔드 필수 체크 UI
                [ ] 에러 메시지 정확성

BR-USER-002: 마케팅 정보 제공 선택 동의
──────────────────────────────────────────────────────────────────────────────
정책            P-002
룰              agreedMarketing 선택사항 (미동의해도 가입 가능)
검증 방법       agreedMarketing = false로 가입 → 성공
확인 항목       [ ] 선택 동의 처리
                [ ] notification_settings 기본값 반영

BR-USER-003: 이름 2~10자 한글 제한
──────────────────────────────────────────────────────────────────────────────
정책            P-003
룰              name: 한글 2~10자 이내 (필수)
검증 방법       1자, 11자, 영문 입력 시 → 400 에러
확인 항목       [ ] 정규식 검증: ^[가-힣]{2,10}$
                [ ] 프론트엔드 입력 제한
                [ ] 에러 메시지 정확성

BR-USER-004: 이메일 형식 및 중복 검증
──────────────────────────────────────────────────────────────────────────────
정책            P-004
룰              1. 유효한 이메일 형식 필수
                2. 중복 확인 (UK_users_email)
검증 방법       잘못된 형식, 중복 이메일 → 400/409 에러
확인 항목       [ ] 이메일 형식 검증
                [ ] UK 제약조건 동작
                [ ] USER_002 에러 반환

BR-USER-005: 비밀번호 정책 준수
──────────────────────────────────────────────────────────────────────────────
정책            P-005
룰              1. 8자 이상
                2. 영문 + 숫자 조합 필수
                3. 특수문자 허용
검증 방법       7자, 숫자만, 영문만 → 400 에러
확인 항목       [ ] 정규식: ^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{8,20}$
                [ ] 프론트엔드 실시간 검증
                [ ] 에러 메시지 상세

BR-USER-006: 닉네임 2~20자 및 중복 검증
──────────────────────────────────────────────────────────────────────────────
정책            (DB 제약)
룰              nickname: 2~20자, UK_users_nickname 중복 불가
검증 방법       1자, 21자, 중복 → 400/409 에러
확인 항목       [ ] 길이 검증
                [ ] UK 제약조건 동작
                [ ] /users/check-nickname API 동작


--------------------------------------------------------------------------------
2.2 로그인/보안 (AUTH)
--------------------------------------------------------------------------------

BR-USER-007: 로그인 실패 5회 시 계정 잠금
──────────────────────────────────────────────────────────────────────────────
정책            (보안 정책)
룰              failed_login_attempts >= 5 → locked_until = NOW + 30분
검증 방법       5회 연속 실패 → 6회째 403 에러
확인 항목       [ ] failed_login_attempts 증가
                [ ] locked_until 설정
                [ ] USER_004 에러 반환
                [ ] 30분 후 자동 해제

BR-USER-008: 로그인 성공 시 실패 횟수 초기화
──────────────────────────────────────────────────────────────────────────────
정책            (보안 정책)
룰              로그인 성공 → failed_login_attempts = 0
검증 방법       3회 실패 후 성공 → 횟수 0
확인 항목       [ ] 초기화 로직
                [ ] last_login_at 갱신

BR-USER-009: 이메일 인증 필수 (소셜 제외)
──────────────────────────────────────────────────────────────────────────────
정책            P-004
룰              일반 가입: is_verified = 'Y' 필요
                소셜 가입: 자동 인증
검증 방법       미인증 상태로 주요 기능 → 제한
확인 항목       [ ] 인증 메일 발송
                [ ] verification_token 생성
                [ ] 인증 완료 처리


--------------------------------------------------------------------------------
2.3 회원 탈퇴
--------------------------------------------------------------------------------

BR-USER-010: 탈퇴 시 참여 챌린지 확인
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              참여 중인 챌린지 있으면 탈퇴 불가
검증 방법       챌린지 가입 상태에서 탈퇴 → 에러
확인 항목       [ ] challenge_members 확인
                [ ] 에러 메시지 안내

BR-USER-011: 탈퇴 시 리더 여부 확인
──────────────────────────────────────────────────────────────────────────────
정책            MEMBER_002
룰              리더인 챌린지 있으면 탈퇴 불가 (위임 필요)
검증 방법       리더 상태에서 탈퇴 → 에러
확인 항목       [ ] role = 'LEADER' 확인
                [ ] 위임 안내 메시지

BR-USER-012: 탈퇴 후 상태 변경
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              account_status = 'WITHDRAWN'
검증 방법       탈퇴 후 로그인 → USER_005 에러
확인 항목       [ ] Soft Delete 처리
                [ ] 재가입 정책 (동일 이메일)


--------------------------------------------------------------------------------
2.4 다중계정 방지
--------------------------------------------------------------------------------

BR-USER-013: 기기 ID 기반 중복 가입 제한
──────────────────────────────────────────────────────────────────────────────
정책            P-032
룰              MVP: 기기 ID + IP 기반 제한
검증 방법       동일 기기에서 2번째 가입 → 경고/제한
확인 항목       [ ] 기기 ID 수집
                [ ] 중복 탐지 로직

BR-USER-014: 본인인증 도입 (Post-MVP)
──────────────────────────────────────────────────────────────────────────────
정책            P-032
룰              Post-MVP: 본인인증(CI) 도입
검증 방법       CI 중복 시 가입 불가
확인 항목       [ ] 본인인증 연동
                [ ] CI 저장 및 비교


================================================================================
3. 크레딧/계좌 (15개)
================================================================================

--------------------------------------------------------------------------------
3.1 충전 (P-006 ~ P-007)
--------------------------------------------------------------------------------

BR-ACCT-001: 최소 충전 금액 10,000원
──────────────────────────────────────────────────────────────────────────────
정책            P-006
룰              amount >= 10,000원
검증 방법       9,999원 충전 → ACCOUNT_002 에러
확인 항목       [ ] API 검증
                [ ] 프론트엔드 입력 제한
                [ ] 에러 메시지

BR-ACCT-002: 최대 충전 금액 1,000,000원
──────────────────────────────────────────────────────────────────────────────
정책            P-007
룰              단일 충전 <= 1,000,000원
검증 방법       1,000,001원 충전 → 에러
확인 항목       [ ] API 검증
                [ ] 프론트엔드 입력 제한

BR-ACCT-003: 충전 단위 10,000원
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              충전 금액은 10,000원 단위
검증 방법       15,000원 충전 → 에러 또는 반올림
확인 항목       [ ] 단위 검증
                [ ] UI 선택지 제한


--------------------------------------------------------------------------------
3.2 수수료 (P-010 ~ P-012)
--------------------------------------------------------------------------------

BR-ACCT-004: 일반 충전 수수료 3%
──────────────────────────────────────────────────────────────────────────────
정책            P-011
룰              10,000 ~ 200,000원: 3%
검증 방법       100,000원 충전 → 수수료 3,000원
확인 항목       [ ] 수수료 계산 로직
                [ ] account_transactions 기록
                [ ] UI 수수료 표시

BR-ACCT-005: 고액 충전 수수료 1.5%
──────────────────────────────────────────────────────────────────────────────
정책            P-012
룰              200,001원 이상: 1.5%
검증 방법       300,000원 충전 → 수수료 4,500원
확인 항목       [ ] 구간별 수수료 적용
                [ ] fee_policies 테이블 참조


--------------------------------------------------------------------------------
3.3 출금 (P-008 ~ P-009)
--------------------------------------------------------------------------------

BR-ACCT-006: 가용 잔액 내 출금
──────────────────────────────────────────────────────────────────────────────
정책            P-008
룰              출금 <= balance (lockedBalance 제외)
검증 방법       가용 잔액 초과 출금 → ACCOUNT_003 에러
확인 항목       [ ] 잔액 검증
                [ ] lockedBalance 보호

BR-ACCT-007: 일일 출금 한도
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              일일 출금 한도 적용
검증 방법       한도 초과 출금 → ACCOUNT_005 에러
확인 항목       [ ] 일일 누적 금액 계산
                [ ] 한도 검증

BR-ACCT-008: 출금 처리 시간 1~3 영업일
──────────────────────────────────────────────────────────────────────────────
정책            P-009
룰              출금 요청 후 1~3 영업일 처리
검증 방법       출금 상태 추적
확인 항목       [ ] 출금 상태 관리
                [ ] 사용자 안내


--------------------------------------------------------------------------------
3.4 계좌 생성/관리
--------------------------------------------------------------------------------

BR-ACCT-009: 회원가입 시 계좌 자동 생성
──────────────────────────────────────────────────────────────────────────────
정책            (시스템 정책)
룰              users 생성 시 accounts 자동 생성
검증 방법       회원가입 후 accounts 확인
확인 항목       [ ] 트랜잭션 내 처리
                [ ] balance = 0, lockedBalance = 0

BR-ACCT-010: 거래 내역 불변성
──────────────────────────────────────────────────────────────────────────────
정책            (감사 정책)
룰              account_transactions는 수정/삭제 불가
검증 방법       UPDATE/DELETE 시도 → 실패
확인 항목       [ ] INSERT only 정책
                [ ] balance_before/after 기록

BR-ACCT-011: Idempotency Key 중복 방지
──────────────────────────────────────────────────────────────────────────────
정책            (동시성 정책)
룰              UK_account_tx_idempotency 제약
검증 방법       동일 key로 2회 요청 → 1회만 처리
확인 항목       [ ] PG 콜백 중복 방지
                [ ] 에러 처리


--------------------------------------------------------------------------------
3.5 알림 설정 (P-060)
--------------------------------------------------------------------------------

BR-ACCT-012: 알림 설정 기본값
──────────────────────────────────────────────────────────────────────────────
정책            P-060
룰              마케팅 제외 모두 ON
검증 방법       회원가입 후 notification_settings 확인
확인 항목       [ ] push_enabled = 'Y'
                [ ] vote/meeting/expense/sns/system = 'Y'
                [ ] (마케팅은 agreedMarketing 따름)


================================================================================
4. 챌린지 관리 (22개)
================================================================================

--------------------------------------------------------------------------------
4.1 챌린지 생성
--------------------------------------------------------------------------------

BR-CHAL-001: 리더당 챌린지 생성 한도 3개
──────────────────────────────────────────────────────────────────────────────
정책            CHALLENGE_007
룰              리더로서 운영 중인 챌린지 <= 3개
검증 방법       4번째 생성 → CHALLENGE_007 에러
확인 항목       [ ] 리더 챌린지 수 카운트
                [ ] COMPLETED 제외

BR-CHAL-002: 최소 인원 3명 이상
──────────────────────────────────────────────────────────────────────────────
정책            P-047
룰              min_members >= 3
검증 방법       min_members = 2 → 에러
확인 항목       [ ] API 검증
                [ ] 리더 포함 3명

BR-CHAL-003: 카테고리 8종 제한
──────────────────────────────────────────────────────────────────────────────
정책            (Enum 정의)
룰              HOBBY/STUDY/EXERCISE/SAVINGS/TRAVEL/FOOD/CULTURE/OTHER
검증 방법       잘못된 카테고리 → 에러
확인 항목       [ ] Enum 검증
                [ ] 프론트엔드 선택지


--------------------------------------------------------------------------------
4.2 챌린지 가입 (P-013 ~ P-016)
--------------------------------------------------------------------------------

BR-CHAL-004: 가입 시 서포트 + 보증금 필요
──────────────────────────────────────────────────────────────────────────────
정책            P-013
룰              첫 가입: 1개월 서포트 + 1개월 보증금 락
검증 방법       잔액 부족 → ACCOUNT_004 에러
확인 항목       [ ] 필요 금액 계산
                [ ] balance 차감
                [ ] lockedBalance 증가

BR-CHAL-005: 잔액 조건 충족 필수
──────────────────────────────────────────────────────────────────────────────
정책            P-014
룰              balance >= 서포트 + 보증금 + 입회비
검증 방법       부족 시 가입 불가
확인 항목       [ ] 사전 잔액 검증
                [ ] 에러 메시지 상세

BR-CHAL-006: 입회비 계산 공식
──────────────────────────────────────────────────────────────────────────────
정책            P-015
룰              입회비 = 챌린지 잔액 / (현재 멤버 수 - 1)
                조건: ACTIVE + balance > 0
검증 방법       계산 결과 검증
확인 항목       [ ] 계산 로직 정확
                [ ] RECRUITING 시 입회비 없음
                [ ] 챌린지 잔액에 합산

BR-CHAL-007: 중복 가입 방지
──────────────────────────────────────────────────────────────────────────────
정책            CHALLENGE_002
룰              UK_challenge_members_challenge_user
검증 방법       동일 챌린지 재가입 → 에러
확인 항목       [ ] UK 제약조건
                [ ] left_at IS NULL 조건

BR-CHAL-008: 정원 초과 방지
──────────────────────────────────────────────────────────────────────────────
정책            CHALLENGE_005
룰              current_members < max_members
검증 방법       정원 초과 가입 → 에러
확인 항목       [ ] 정원 검증
                [ ] 동시성 제어


--------------------------------------------------------------------------------
4.3 챌린지 상태 전환 (P-046 ~ P-050)
--------------------------------------------------------------------------------

BR-CHAL-009: RECRUITING → IN_PROGRESS 자동 전환
──────────────────────────────────────────────────────────────────────────────
정책            P-047
룰              current_members >= min_members (3명) 도달 시
검증 방법       3번째 멤버 가입 → 상태 전환
확인 항목       [ ] 자동 상태 전환
                [ ] activated_at 설정
                [ ] 전체 멤버 보증금 락

BR-CHAL-010: RECRUITING 상태 - 보증금 락 없음
──────────────────────────────────────────────────────────────────────────────
정책            P-046
룰              RECRUITING 시 lockedBalance 변동 없음
검증 방법       RECRUITING 가입 → lockedBalance 유지
확인 항목       [ ] 보증금 처리 분기
                [ ] 서포트만 차감

BR-CHAL-011: IN_PROGRESS 상태 - 서포트 자동 납입
──────────────────────────────────────────────────────────────────────────────
정책            P-048
룰              매월 1일 00:00 자동 납입
검증 방법       배치 실행 → 전체 멤버 납입
확인 항목       [ ] 배치 스케줄
                [ ] 납입 처리

BR-CHAL-012: IN_PROGRESS 상태 - 입회비 부과
──────────────────────────────────────────────────────────────────────────────
정책            P-048
룰              balance > 0인 경우 신규 가입자 입회비
검증 방법       잔액 있는 챌린지 가입 → 입회비 부과
확인 항목       [ ] 입회비 계산
                [ ] 챌린지 잔액 합산

BR-CHAL-013: COMPLETED 전환 조건
──────────────────────────────────────────────────────────────────────────────
정책            P-049
룰              DISSOLVE 투표 100% 동의
검증 방법       전원 동의 → 상태 전환
확인 항목       [ ] 투표 결과 검증
                [ ] 1명 반대 시 거부

BR-CHAL-014: COMPLETED 시 잔액 분배
──────────────────────────────────────────────────────────────────────────────
정책            P-050
룰              잔액 멤버 N등분 분배
검증 방법       정산 후 각 멤버 balance 증가
확인 항목       [ ] 균등 분배 계산
                [ ] challenges.balance = 0

BR-CHAL-015: PAUSED 상태 - 서포트 납입 중단
──────────────────────────────────────────────────────────────────────────────
정책            P-057
룰              PAUSED 시 매월 1일 납입 스킵
검증 방법       PAUSED 챌린지 배치 제외
확인 항목       [ ] 배치 조건에서 제외
                [ ] 재개 시 납입 재시작


--------------------------------------------------------------------------------
4.4 챌린지 탈퇴
--------------------------------------------------------------------------------

BR-CHAL-016: 리더 탈퇴 불가
──────────────────────────────────────────────────────────────────────────────
정책            MEMBER_002
룰              role = 'LEADER'면 탈퇴 불가
검증 방법       리더 탈퇴 → MEMBER_002 에러
확인 항목       [ ] 역할 검증
                [ ] 위임 안내

BR-CHAL-017: 정상 탈퇴 시 보증금 반환
──────────────────────────────────────────────────────────────────────────────
정책            P-025
룰              lockedBalance → balance 전환
검증 방법       탈퇴 후 잔액 확인
확인 항목       [ ] 보증금 해제
                [ ] leave_reason = 'NORMAL'

BR-CHAL-018: 탈퇴 시 current_members 감소
──────────────────────────────────────────────────────────────────────────────
정책            (데이터 정합성)
룰              current_members -= 1
검증 방법       탈퇴 후 멤버 수 확인
확인 항목       [ ] 카운트 동기화
                [ ] 동시성 제어


--------------------------------------------------------------------------------
4.5 완주 인증 (P-026 ~ P-028)
--------------------------------------------------------------------------------

BR-CHAL-019: 1년 운영 시 완주 인증
──────────────────────────────────────────────────────────────────────────────
정책            P-026
룰              activated_at + 365일 경과 시 is_verified = 'Y'
검증 방법       배치 실행 → 자동 인증
확인 항목       [ ] 배치 조건
                [ ] verified_at 설정

BR-CHAL-020: 완주 인증 뱃지 표시
──────────────────────────────────────────────────────────────────────────────
정책            P-027
룰              is_verified = 'Y'면 인증 뱃지
검증 방법       UI에 뱃지 표시 확인
확인 항목       [ ] API 응답 포함
                [ ] 프론트엔드 표시

BR-CHAL-021: 완주와 보증금 무관
──────────────────────────────────────────────────────────────────────────────
정책            P-028
룰              완주 인증은 보증금 반환과 무관
검증 방법       완주 후에도 보증금 락 유지
확인 항목       [ ] 분리된 로직


--------------------------------------------------------------------------------
4.6 휴면 챌린지 (P-036)
--------------------------------------------------------------------------------

BR-CHAL-022: 전원 탈퇴 시 잔액 시스템 귀속
──────────────────────────────────────────────────────────────────────────────
정책            P-036
룰              모든 멤버 AUTO_LEAVE → 잔액 우리두 귀속
검증 방법       전원 자동 탈퇴 → 잔액 처리
확인 항목       [ ] 잔액 귀속 로직
                [ ] 챌린지 상태 처리


================================================================================
5. 보증금 관리 (16개)
================================================================================

--------------------------------------------------------------------------------
5.1 보증금 락 (P-017 ~ P-020)
--------------------------------------------------------------------------------

BR-DPST-001: 가입 시 보증금 락
──────────────────────────────────────────────────────────────────────────────
정책            P-013
룰              balance → lockedBalance 이동
검증 방법       가입 후 lockedBalance 증가 확인
확인 항목       [ ] 금액 이동
                [ ] deposit_status = 'LOCKED'

BR-DPST-002: ACTIVE 전환 시 기존 멤버 보증금 락
──────────────────────────────────────────────────────────────────────────────
정책            P-047
룰              3명 도달 시 전체 멤버 보증금 락
검증 방법       RECRUITING → IN_PROGRESS 시 처리
확인 항목       [ ] 전체 멤버 순회
                [ ] 트랜잭션 처리


--------------------------------------------------------------------------------
5.2 안심결제 (P-017)
--------------------------------------------------------------------------------

BR-DPST-003: 잔액 부족 시 보증금 충당
──────────────────────────────────────────────────────────────────────────────
정책            P-017
룰              balance = 0일 때 lockedBalance에서 서포트 차감
검증 방법       잔액 0 상태에서 납입일 → 보증금 차감
확인 항목       [ ] 충당 로직
                [ ] deposit_status = 'USED'


--------------------------------------------------------------------------------
5.3 권한 박탈 (P-018, P-021)
--------------------------------------------------------------------------------

BR-DPST-004: 보증금 충당 시 즉시 권한 박탈
──────────────────────────────────────────────────────────────────────────────
정책            P-018
룰              privilege_status = 'REVOKED'
검증 방법       충당 발생 → 권한 상태 확인
확인 항목       [ ] 즉시 상태 변경
                [ ] privilege_revoked_at 설정

BR-DPST-005: 권한 박탈 시 모임 참석 불가
──────────────────────────────────────────────────────────────────────────────
정책            P-021, P-045
룰              REVOKED 상태면 모임 투표 불가
검증 방법       권한 박탈 후 모임 투표 → 에러
확인 항목       [ ] 투표 권한 검증
                [ ] VOTE_003 에러

BR-DPST-006: 권한 박탈 시 피드 열람/작성 가능
──────────────────────────────────────────────────────────────────────────────
정책            P-021
룰              REVOKED 상태에서도 피드 가능
검증 방법       권한 박탈 후 피드 작성 → 성공
확인 항목       [ ] 피드 권한 분리


--------------------------------------------------------------------------------
5.4 7일 유예 (P-021)
--------------------------------------------------------------------------------

BR-DPST-007: 7일 내 충전 시 권한 즉시 복구
──────────────────────────────────────────────────────────────────────────────
정책            P-021
룰              7일 내 lockedBalance 복구 → ACTIVE
검증 방법       충전 → 권한 복구 확인
확인 항목       [ ] 복구 로직
                [ ] 복구 시점 정확

BR-DPST-008: 7일 경과 시 예정 모임 자동 제외
──────────────────────────────────────────────────────────────────────────────
정책            P-021
룰              7일 경과 → 예정 모임에서 제외
검증 방법       7일 후 모임 참석자 목록 확인
확인 항목       [ ] 배치 처리
                [ ] 모임 참석 기록 처리


--------------------------------------------------------------------------------
5.5 권한 복구 (P-019, P-020, P-056)
--------------------------------------------------------------------------------

BR-DPST-009: 충전 시 보증금 1순위 복구
──────────────────────────────────────────────────────────────────────────────
정책            P-019
룰              충전 금액 → lockedBalance 우선 복구
검증 방법       부족한 보증금만큼 우선 배정
확인 항목       [ ] 복구 우선순위
                [ ] 잔여 금액 balance

BR-DPST-010: 보증금 충족 시 권한 자동 복구
──────────────────────────────────────────────────────────────────────────────
정책            P-020, P-056
룰              lockedBalance >= deposit_amount → ACTIVE
검증 방법       충전 후 권한 상태 확인
확인 항목       [ ] 자동 복구 로직
                [ ] privilege_status = 'ACTIVE'


--------------------------------------------------------------------------------
5.6 자동 탈퇴/몰수 (P-022 ~ P-025, P-052)
--------------------------------------------------------------------------------

BR-DPST-011: 60일 미충전 시 자동 탈퇴
──────────────────────────────────────────────────────────────────────────────
정책            P-022
룰              privilege_revoked_at + 60일 경과 → 자동 탈퇴
검증 방법       배치 실행 → 자동 탈퇴 처리
확인 항목       [ ] 배치 조건
                [ ] leave_reason = 'AUTO_LEAVE'

BR-DPST-012: 자동 탈퇴 시 보증금 몰수
──────────────────────────────────────────────────────────────────────────────
정책            P-052
룰              AUTO_LEAVE만 몰수 (NORMAL, KICKED는 반환)
검증 방법       자동 탈퇴 → 보증금 몰수 확인
확인 항목       [ ] 몰수 조건 분기
                [ ] 시스템 귀속

BR-DPST-013: 자동 탈퇴 시 리더에게만 알림
──────────────────────────────────────────────────────────────────────────────
정책            P-023
룰              팔로워에게는 미통보
검증 방법       알림 발송 대상 확인
확인 항목       [ ] 알림 대상 제한
                [ ] 리더만 수신

BR-DPST-014: 정상 탈퇴 조건 - 보증금 충족
──────────────────────────────────────────────────────────────────────────────
정책            P-024
룰              lockedBalance >= deposit_amount 상태에서만 탈퇴 가능
검증 방법       보증금 부족 상태 탈퇴 → 에러
확인 항목       [ ] 탈퇴 조건 검증

BR-DPST-015: 강퇴(KICKED) 시 보증금 반환
──────────────────────────────────────────────────────────────────────────────
정책            P-052
룰              KICKED는 보증금 반환
검증 방법       강퇴 투표 승인 → 보증금 반환
확인 항목       [ ] leave_reason = 'KICKED'
                [ ] 보증금 해제

BR-DPST-016: 챌린지 종료 시 보증금 반환
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              COMPLETED 시 전체 멤버 보증금 해제
검증 방법       정산 후 보증금 확인
확인 항목       [ ] leave_reason = 'CHALLENGE_CLOSED'
                [ ] 보증금 해제


================================================================================
6. 투표 시스템 (20개)
================================================================================

--------------------------------------------------------------------------------
6.1 지출 투표 (P-037)
--------------------------------------------------------------------------------

BR-VOTE-001: 지출 투표 발의자 - 리더
──────────────────────────────────────────────────────────────────────────────
정책            P-037
룰              EXPENSE 투표는 리더만 생성
검증 방법       팔로워 지출 투표 생성 → 에러
확인 항목       [ ] 역할 검증

BR-VOTE-002: 지출 투표 승인 조건 - 과반수
──────────────────────────────────────────────────────────────────────────────
정책            P-037
룰              approve_count > eligible_count / 2
검증 방법       5명 중 3명 승인 → APPROVED
확인 항목       [ ] 과반수 계산
                [ ] 상태 전환

BR-VOTE-003: 지출 승인 시 장부 자동 기록
──────────────────────────────────────────────────────────────────────────────
정책            P-037
룰              APPROVED → ledger_entries 생성
검증 방법       승인 후 장부 확인
확인 항목       [ ] 자동 기록
                [ ] challenges.balance 차감


--------------------------------------------------------------------------------
6.2 멤버 퇴출 투표 (P-038)
--------------------------------------------------------------------------------

BR-VOTE-004: 퇴출 투표 발의자 - 모두 (대상자 제외)
──────────────────────────────────────────────────────────────────────────────
정책            P-038
룰              대상자 제외 전원 발의 가능
검증 방법       팔로워가 퇴출 투표 생성 → 성공
확인 항목       [ ] 발의 권한
                [ ] 대상자 제외

BR-VOTE-005: 퇴출 투표 승인 조건 - 70%
──────────────────────────────────────────────────────────────────────────────
정책            P-038
룰              approve_count >= eligible_count * 0.7
검증 방법       10명 중 7명 승인 → 퇴출
확인 항목       [ ] 70% 계산
                [ ] 상태 전환

BR-VOTE-006: 퇴출 승인 시 보증금 반환
──────────────────────────────────────────────────────────────────────────────
정책            P-038
룰              강퇴 시 보증금 반환
검증 방법       퇴출 후 대상자 잔액 확인
확인 항목       [ ] leave_reason = 'KICKED'
                [ ] 보증금 해제


--------------------------------------------------------------------------------
6.3 모임 참석 투표 (P-039)
--------------------------------------------------------------------------------

BR-VOTE-007: 모임 투표 발의자 - 리더
──────────────────────────────────────────────────────────────────────────────
정책            P-039
룰              MEETING_ATTENDANCE는 리더만 생성
검증 방법       팔로워 모임 생성 → 에러
확인 항목       [ ] 역할 검증

BR-VOTE-008: 모임 투표 선택지 - AGREE/DISAGREE
──────────────────────────────────────────────────────────────────────────────
정책            P-039
룰              참석(AGREE) / 불참(DISAGREE)
검증 방법       투표 선택지 확인
확인 항목       [ ] Enum 정의
                [ ] UI 표시

BR-VOTE-009: 과반수 참석 시 모임 확정
──────────────────────────────────────────────────────────────────────────────
정책            P-039
룰              attend_count > eligible_count / 2 → CONFIRMED
검증 방법       과반수 도달 → 모임 상태 확인
확인 항목       [ ] 과반수 계산
                [ ] meetings.status = 'CONFIRMED'

BR-VOTE-010: 과반수 미달 시 모임 취소
──────────────────────────────────────────────────────────────────────────────
정책            P-039
룰              만료 시 과반수 미달 → CANCELLED
검증 방법       만료 후 상태 확인
확인 항목       [ ] meetings.status = 'CANCELLED'


--------------------------------------------------------------------------------
6.4 리더 강퇴 투표 (P-040)
--------------------------------------------------------------------------------

BR-VOTE-011: 리더 강퇴 조건 - 30일 미활동
──────────────────────────────────────────────────────────────────────────────
정책            P-040
룰              leader_last_active_at + 30일 경과 시에만 발의 가능
검증 방법       29일 미활동 시 발의 → 에러
확인 항목       [ ] 미활동 조건 검증

BR-VOTE-012: 리더 강퇴 승인 조건 - 70%
──────────────────────────────────────────────────────────────────────────────
정책            P-040
룰              팔로워 70% 이상 승인
검증 방법       70% 승인 → 리더 교체
확인 항목       [ ] 승인 조건
                [ ] 리더 포함 여부 확인


--------------------------------------------------------------------------------
6.5 챌린지 종료 투표 (P-041)
--------------------------------------------------------------------------------

BR-VOTE-013: 종료 투표 발의자 - 리더
──────────────────────────────────────────────────────────────────────────────
정책            P-041
룰              DISSOLVE는 리더만 생성
검증 방법       팔로워 종료 투표 → 에러
확인 항목       [ ] 역할 검증

BR-VOTE-014: 종료 투표 승인 조건 - 전원 동의
──────────────────────────────────────────────────────────────────────────────
정책            P-041
룰              100% 동의 필요
검증 방법       1명 반대 → 거부
확인 항목       [ ] 전원 동의 검증
                [ ] reject_count = 0


--------------------------------------------------------------------------------
6.6 모임 관련 지출 투표 (P-042)
--------------------------------------------------------------------------------

BR-VOTE-015: 모임 지출 투표 - 참석자만
──────────────────────────────────────────────────────────────────────────────
정책            P-042
룰              meeting_id가 있는 EXPENSE는 참석자만 투표
검증 방법       미참석자 투표 → 에러
확인 항목       [ ] 참석자 검증
                [ ] meeting_attendees 확인

BR-VOTE-016: 모임 지출 승인 - 참석자 과반수
──────────────────────────────────────────────────────────────────────────────
정책            P-042
룰              참석자 과반수 기준 (전체 멤버 X)
검증 방법       참석자 5명 중 3명 → 승인
확인 항목       [ ] eligible_count = 참석자 수


--------------------------------------------------------------------------------
6.7 투표 공통
--------------------------------------------------------------------------------

BR-VOTE-017: 중복 투표 방지
──────────────────────────────────────────────────────────────────────────────
정책            VOTE_006
룰              UK 제약조건 (vote_id, user_id)
검증 방법       동일 투표 2회 → 에러
확인 항목       [ ] UK 제약조건
                [ ] VOTE_006 에러

BR-VOTE-018: 투표 마감 시간 최소 24시간
──────────────────────────────────────────────────────────────────────────────
정책            VOTE_002
룰              expires_at >= NOW + 24시간
검증 방법       23시간 후 마감 → 에러
확인 항목       [ ] 시간 검증

BR-VOTE-019: 마감 후 투표 불가
──────────────────────────────────────────────────────────────────────────────
정책            VOTE_005
룰              expires_at < NOW → 투표 불가
검증 방법       만료 후 투표 → 에러
확인 항목       [ ] 시간 검증
                [ ] VOTE_005 에러

BR-VOTE-020: 동일 유형 중복 투표 방지
──────────────────────────────────────────────────────────────────────────────
정책            VOTE_004
룰              동일 유형 진행 중 투표 있으면 생성 불가
검증 방법       KICK 진행 중 KICK 생성 → 에러
확인 항목       [ ] 중복 체크
                [ ] VOTE_004 에러


================================================================================
7. 정기 모임 (14개)
================================================================================

--------------------------------------------------------------------------------
7.1 모임 개최 (P-043)
--------------------------------------------------------------------------------

BR-MEET-001: 과반수 참석 시 모임 개최
──────────────────────────────────────────────────────────────────────────────
정책            P-043
룰              attend_count > eligible_count / 2
검증 방법       과반수 도달 → status = 'CONFIRMED'
확인 항목       [ ] 상태 전환
                [ ] confirmed_at 설정

BR-MEET-002: 과반수 미달 시 모임 취소
──────────────────────────────────────────────────────────────────────────────
정책            P-043
룰              만료 시 과반수 미달 → 자동 취소
검증 방법       투표 마감 → status = 'CANCELLED'
확인 항목       [ ] 자동 취소
                [ ] 알림 발송

BR-MEET-003: IN_PROGRESS 상태에서만 모임 생성
──────────────────────────────────────────────────────────────────────────────
정책            P-046
룰              RECRUITING, PAUSED에서 모임 생성 불가
검증 방법       RECRUITING 챌린지에서 모임 생성 → 에러
확인 항목       [ ] 상태 검증


--------------------------------------------------------------------------------
7.2 지출 투표 (P-044)
--------------------------------------------------------------------------------

BR-MEET-004: 참석자만 지출 투표 가능
──────────────────────────────────────────────────────────────────────────────
정책            P-044
룰              meeting_attendees.choice = 'AGREE'인 멤버만
검증 방법       미참석자 투표 → VOTE_003 에러
확인 항목       [ ] 참석자 검증

BR-MEET-005: 건별 지출 승인
──────────────────────────────────────────────────────────────────────────────
정책            P-044
룰              지출마다 별도 투표
검증 방법       여러 지출 각각 투표 확인
확인 항목       [ ] 지출별 투표 생성


--------------------------------------------------------------------------------
7.3 권한 제한 (P-045)
--------------------------------------------------------------------------------

BR-MEET-006: 권한 박탈 시 모임 참석 투표 불가
──────────────────────────────────────────────────────────────────────────────
정책            P-045
룰              privilege_status = 'REVOKED'면 투표 불가
검증 방법       권한 박탈 후 참석 투표 → 에러
확인 항목       [ ] 권한 검증

BR-MEET-007: 권한 박탈 시 모임 지출 투표 불가
──────────────────────────────────────────────────────────────────────────────
정책            P-045
룰              REVOKED 상태면 지출 투표도 불가
검증 방법       권한 박탈 후 지출 투표 → 에러
확인 항목       [ ] 권한 검증


--------------------------------------------------------------------------------
7.4 점수 반영 (P-051, P-054)
--------------------------------------------------------------------------------

BR-MEET-008: 모임 참석 시 +0.09점
──────────────────────────────────────────────────────────────────────────────
정책            P-051
룰              actual_attendance = 'ATTENDED' → +0.09
검증 방법       모임 완료 후 점수 확인
확인 항목       [ ] 점수 증가
                [ ] user_scores.total_score 갱신

BR-MEET-009: NO_SHOW 시 -0.09점
──────────────────────────────────────────────────────────────────────────────
정책            P-054
룰              actual_attendance = 'NO_SHOW' → -0.09
검증 방법       노쇼 처리 후 점수 확인
확인 항목       [ ] 점수 차감
                [ ] 패널티 적용


--------------------------------------------------------------------------------
7.5 바코드 결제 (P-053)
--------------------------------------------------------------------------------

BR-MEET-010: 바코드 발급 후 10분 유효
──────────────────────────────────────────────────────────────────────────────
정책            P-053
룰              expires_at = NOW + 10분
검증 방법       10분 후 사용 → 에러
확인 항목       [ ] 만료 시간 설정
                [ ] status = 'EXPIRED'

BR-MEET-011: 바코드 1회만 사용
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              사용 후 status = 'USED'
검증 방법       재사용 시도 → 에러
확인 항목       [ ] 상태 변경
                [ ] 중복 사용 방지

BR-MEET-012: 바코드 사용 시 장부 자동 기록
──────────────────────────────────────────────────────────────────────────────
정책            P-029
룰              PG 결제 → 상호명/업종 자동 기록
검증 방법       결제 완료 → ledger_entries 확인
확인 항목       [ ] 자동 기록
                [ ] merchant_name, merchant_category

BR-MEET-013: 모임 완료 처리 - 리더만
──────────────────────────────────────────────────────────────────────────────
정책            (권한 정책)
룰              리더만 모임 완료 처리 가능
검증 방법       팔로워 완료 처리 → 에러
확인 항목       [ ] 역할 검증

BR-MEET-014: 모임 완료 시 참석 상태 확정
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              ATTENDED/NO_SHOW 확정
검증 방법       완료 후 상태 변경 불가
확인 항목       [ ] 상태 확정
                [ ] 점수 반영


================================================================================
8. 리더 관리 (12개)
================================================================================

--------------------------------------------------------------------------------
8.1 리더 활동 (P-033, P-058)
--------------------------------------------------------------------------------

BR-LEAD-001: 리더 활동 갱신 - 피드 작성
──────────────────────────────────────────────────────────────────────────────
정책            P-058
룰              해당 챌린지에서 피드 작성 → leader_last_active_at 갱신
검증 방법       피드 작성 후 시간 확인
확인 항목       [ ] 갱신 로직

BR-LEAD-002: 리더 활동 갱신 - 투표 생성
──────────────────────────────────────────────────────────────────────────────
정책            P-058
룰              투표 생성 → leader_last_active_at 갱신
검증 방법       투표 생성 후 시간 확인
확인 항목       [ ] 갱신 로직

BR-LEAD-003: 리더 활동 갱신 - 댓글 작성
──────────────────────────────────────────────────────────────────────────────
정책            P-058
룰              해당 챌린지 게시글에 댓글 → 갱신
검증 방법       댓글 작성 후 시간 확인
확인 항목       [ ] 갱신 로직

BR-LEAD-004: 리더 활동 갱신 - 모임 생성
──────────────────────────────────────────────────────────────────────────────
정책            P-058
룰              모임 생성 → leader_last_active_at 갱신
검증 방법       모임 생성 후 시간 확인
확인 항목       [ ] 갱신 로직

BR-LEAD-005: 단순 로그인은 활동 미갱신
──────────────────────────────────────────────────────────────────────────────
정책            P-058
룰              로그인만으로는 갱신 안됨
검증 방법       로그인 후 시간 유지 확인
확인 항목       [ ] 미갱신 확인

BR-LEAD-006: 다른 챌린지 활동은 미갱신
──────────────────────────────────────────────────────────────────────────────
정책            P-058
룰              해당 챌린지 내 활동만 갱신
검증 방법       다른 챌린지 피드 작성 → 미갱신
확인 항목       [ ] 챌린지 ID 확인


--------------------------------------------------------------------------------
8.2 리더 승계 (P-034, P-035)
--------------------------------------------------------------------------------

BR-LEAD-007: 30일 미활동 시 강퇴 요청 가능
──────────────────────────────────────────────────────────────────────────────
정책            P-033
룰              leader_last_active_at + 30일 경과 시
검증 방법       30일 경과 → LEADER_KICK 발의 가능
확인 항목       [ ] 미활동 조건 검증

BR-LEAD-008: 강퇴 시 점수 최고자 승계
──────────────────────────────────────────────────────────────────────────────
정책            P-034
룰              user_scores.total_score 최고자
검증 방법       강퇴 후 새 리더 확인
확인 항목       [ ] 점수 순 정렬
                [ ] role 변경

BR-LEAD-009: 기존 리더 팔로워 전환
──────────────────────────────────────────────────────────────────────────────
정책            P-034
룰              강퇴된 리더 → FOLLOWER
검증 방법       강퇴 후 역할 확인
확인 항목       [ ] role 변경
                [ ] 탈퇴 아님


--------------------------------------------------------------------------------
8.3 리더 위임
--------------------------------------------------------------------------------

BR-LEAD-010: 리더 수동 위임
──────────────────────────────────────────────────────────────────────────────
정책            (서비스 정책)
룰              리더가 특정 팔로워에게 위임
검증 방법       위임 → 역할 변경 확인
확인 항목       [ ] API 구현
                [ ] 트랜잭션 처리

BR-LEAD-011: 자신에게 위임 불가
──────────────────────────────────────────────────────────────────────────────
정책            MEMBER_004
룰              targetUserId != 본인
검증 방법       자신에게 위임 → 에러
확인 항목       [ ] 검증 로직

BR-LEAD-012: 리더는 항상 1명
──────────────────────────────────────────────────────────────────────────────
정책            (데이터 정합성)
룰              role = 'LEADER'인 멤버 1명만
검증 방법       동시 위임 → 1명만 리더
확인 항목       [ ] 동시성 제어
                [ ] 데이터 정합성


================================================================================
9. SNS/피드 (10개)
================================================================================

--------------------------------------------------------------------------------
9.1 게시글
--------------------------------------------------------------------------------

BR-SNS-001: 게시글 작성 - 챌린지 멤버만
──────────────────────────────────────────────────────────────────────────────
정책            PM-005
룰              챌린지 멤버만 게시글 작성 가능
검증 방법       비멤버 작성 → 에러
확인 항목       [ ] 멤버십 검증

BR-SNS-002: 게시글 수정/삭제 - 본인만
──────────────────────────────────────────────────────────────────────────────
정책            PM-005, POST_003
룰              created_by = 본인만 수정/삭제
검증 방법       타인 게시글 수정 → 에러
확인 항목       [ ] 작성자 검증

BR-SNS-003: 공지사항 핀 - 리더만
──────────────────────────────────────────────────────────────────────────────
정책            PM-004
룰              is_pinned = 'Y'는 리더만 설정
검증 방법       팔로워 핀 설정 → 에러
확인 항목       [ ] 역할 검증

BR-SNS-004: 게시글 Soft Delete
──────────────────────────────────────────────────────────────────────────────
정책            (데이터 정책)
룰              삭제 시 deleted_at 설정
검증 방법       삭제 후 데이터 유지 확인
확인 항목       [ ] Soft Delete 처리
                [ ] 조회 시 제외


--------------------------------------------------------------------------------
9.2 댓글
--------------------------------------------------------------------------------

BR-SNS-005: 댓글 작성 - 게시글 접근 권한
──────────────────────────────────────────────────────────────────────────────
정책            (권한 정책)
룰              게시글 볼 수 있으면 댓글 가능
검증 방법       접근 불가 게시글 댓글 → 에러
확인 항목       [ ] 접근 권한 검증

BR-SNS-006: 댓글 수정/삭제 - 본인만
──────────────────────────────────────────────────────────────────────────────
정책            COMMENT_002
룰              created_by = 본인만 수정/삭제
검증 방법       타인 댓글 수정 → 에러
확인 항목       [ ] 작성자 검증

BR-SNS-007: 대댓글 지원
──────────────────────────────────────────────────────────────────────────────
정책            (기능 정책)
룰              parent_id로 대댓글 연결
검증 방법       대댓글 작성 → parent_id 설정
확인 항목       [ ] FK 관계


--------------------------------------------------------------------------------
9.3 좋아요
--------------------------------------------------------------------------------

BR-SNS-008: 좋아요 중복 방지
──────────────────────────────────────────────────────────────────────────────
정책            (UK 제약)
룰              UK_post_likes_post_user, UK_comment_likes_comment_user
검증 방법       동일 게시글 2회 좋아요 → 에러/무시
확인 항목       [ ] UK 제약조건

BR-SNS-009: 좋아요 카운트 동기화
──────────────────────────────────────────────────────────────────────────────
정책            (데이터 정합성)
룰              posts.like_count, comments.like_count 동기화
검증 방법       좋아요 추가/취소 → 카운트 변경
확인 항목       [ ] 카운트 증감

BR-SNS-010: 이미지 업로드 10MB 제한
──────────────────────────────────────────────────────────────────────────────
정책            FILE_002
룰              파일 크기 <= 10MB
검증 방법       11MB 업로드 → 에러
확인 항목       [ ] 크기 검증
                [ ] FILE_002 에러


================================================================================
10. 신고/제재 (8개)
================================================================================

--------------------------------------------------------------------------------
10.1 신고 (P-030 ~ P-031)
--------------------------------------------------------------------------------

BR-REPT-001: 1계정 1회 신고
──────────────────────────────────────────────────────────────────────────────
정책            P-030
룰              동일 대상 중복 신고 불가
검증 방법       재신고 → 에러
확인 항목       [ ] 중복 체크

BR-REPT-002: 신고 20회 누적 시 자동 정지
──────────────────────────────────────────────────────────────────────────────
정책            P-030
룰              report_received_count >= 20 → SUSPENDED
검증 방법       20번째 신고 → 자동 정지
확인 항목       [ ] 카운트 집계
                [ ] 자동 정지

BR-REPT-003: 신고 대상 - USER/POST/COMMENT/CHALLENGE
──────────────────────────────────────────────────────────────────────────────
정책            (Enum 정의)
룰              reported_entity_type 4종
검증 방법       잘못된 타입 → 에러
확인 항목       [ ] Enum 검증


--------------------------------------------------------------------------------
10.2 허위 신고 제재 (P-055)
--------------------------------------------------------------------------------

BR-REPT-004: 허위 신고 1회 - 경고
──────────────────────────────────────────────────────────────────────────────
정책            P-055
룰              status = 'FALSE_REPORT' → 경고 알림
검증 방법       허위 판정 → 알림 확인
확인 항목       [ ] 알림 발송

BR-REPT-005: 허위 신고 3회 - 7일 정지
──────────────────────────────────────────────────────────────────────────────
정책            P-055
룰              FALSE_REPORT 3회 → suspended_until = NOW + 7일
검증 방법       3회 누적 → 정지 확인
확인 항목       [ ] 카운트 집계
                [ ] 정지 처리

BR-REPT-006: 허위 신고 5회 - 영구 정지 검토
──────────────────────────────────────────────────────────────────────────────
정책            P-055
룰              5회 이상 → CS 검토 후 영구 정지
검증 방법       5회 누적 → 관리자 알림
확인 항목       [ ] 관리자 알림


--------------------------------------------------------------------------------
10.3 Webhook (P-059)
--------------------------------------------------------------------------------

BR-REPT-007: Webhook 실패 시 3회 재시도
──────────────────────────────────────────────────────────────────────────────
정책            P-059
룰              1분, 5분, 30분 간격 재시도
검증 방법       실패 → 재시도 로그 확인
확인 항목       [ ] 재시도 로직
                [ ] payment_logs 기록

BR-REPT-008: 최종 실패 시 관리자 알림
──────────────────────────────────────────────────────────────────────────────
정책            P-059
룰              3회 실패 → 관리자 알림
검증 방법       최종 실패 → 알림 확인
확인 항목       [ ] 알림 발송


================================================================================
11. 권한 체크 (7개)
================================================================================

BR-PERM-001: 리더 전체 권한
──────────────────────────────────────────────────────────────────────────────
정책            PM-001, PM-004, PM-007, PM-009, PM-012, PM-014
룰              챌린지 내 모든 기능 사용 가능
검증 방법       리더로 모든 기능 테스트
확인 항목       [ ] 보기/수정/삭제/쓰기 가능

BR-PERM-002: 팔로워 제한된 권한
──────────────────────────────────────────────────────────────────────────────
정책            PM-002, PM-005, PM-008, PM-010, PM-013, PM-015, PM-016
룰              보기 + 본인 콘텐츠 관리 + 투표 참여
검증 방법       팔로워로 제한 기능 테스트
확인 항목       [ ] 챌린지 수정 불가
                [ ] 투표 생성 불가 (일부)

BR-PERM-003: 권한박탈 제한된 권한
──────────────────────────────────────────────────────────────────────────────
정책            PM-011, PM-017
룰              피드 가능, 모임/투표 불가
검증 방법       권한박탈 후 기능 테스트
확인 항목       [ ] 피드 작성 가능
                [ ] 모임 투표 불가

BR-PERM-004: 참석자 모임 지출 권한
──────────────────────────────────────────────────────────────────────────────
정책            PM-018
룰              해당 모임 참석자만 지출 투표
검증 방법       참석자/미참석자 투표 테스트
확인 항목       [ ] 참석자 검증

BR-PERM-005: 비회원 공개 정보만
──────────────────────────────────────────────────────────────────────────────
정책            PM-003, PM-006
룰              공개 챌린지 정보만 조회
검증 방법       비인증 상태로 API 호출
확인 항목       [ ] 401 에러 (인증 필요 API)
                [ ] 공개 정보만 반환

BR-PERM-006: 유예상태 7일 내 모임 참여
──────────────────────────────────────────────────────────────────────────────
정책            PM-021
룰              7일 내 참여 가능, 이후 자동 제외
검증 방법       유예 기간 내/외 테스트
확인 항목       [ ] 7일 경계 조건

BR-PERM-007: 관리자 권한 분리
──────────────────────────────────────────────────────────────────────────────
정책            AUTH_015
룰              관리자 API는 관리자만 접근
검증 방법       일반 사용자 관리자 API → 에러
확인 항목       [ ] AUTH_015 에러


================================================================================
변경 이력
================================================================================

버전      일자          작성자      변경 내용
──────    ──────────    ────────    ─────────────────────────────
1.0.0     2026-01-16    System      초기 버전 생성
                                    - 회원 관리 18개
                                    - 크레딧/계좌 15개
                                    - 챌린지 관리 22개
                                    - 보증금 관리 16개
                                    - 투표 시스템 20개
                                    - 정기 모임 14개
                                    - 리더 관리 12개
                                    - SNS/피드 10개
                                    - 신고/제재 8개
                                    - 권한 체크 7개


================================================================================
                              END OF DOCUMENT
================================================================================